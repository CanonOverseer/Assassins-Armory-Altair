<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <FleckDef ParentName="FleckGlowDistortBackground">
    <defName>ACM_Fleck_AppleGlow</defName>
    <fleckSystemClass>FleckSystemThrown</fleckSystemClass>
    <altitudeLayer>MoteOverhead</altitudeLayer>
    <fadeInTime>0.65</fadeInTime>
    <solidTime>1.08</solidTime>
    <fadeOutTime>0.6</fadeOutTime>
    <growthRate>1.0</growthRate>
    <graphicData>
      <texPath>Apple/AppleFireGlow</texPath>
      <shaderType>MoteGlow</shaderType>
      <drawSize>2.5</drawSize>
    </graphicData>
  </FleckDef>

  <FleckDef ParentName="FleckGlowDistortBackground">
    <defName>ACM_Fleck_PsychicDistortion</defName>
    <fleckSystemClass>FleckSystemSplash</fleckSystemClass>
    <altitudeLayer>MoteOverhead</altitudeLayer>
    <fadeInTime>0.75</fadeInTime>
    <solidTime>1.08</solidTime>
    <fadeOutTime>0.8</fadeOutTime>
    <!-- <growthRate>1.5</growthRate>-->
    <graphicData>
      <texPath>Apple/AppleFireGlow</texPath>
      <shaderType>MoteGlow</shaderType>
      <drawSize>2.5</drawSize>
    </graphicData>
  </FleckDef>

  <ThingDef ParentName="MoteBase">
		<defName>ACM_YellowSparkFlash</defName>
		<altitudeLayer>MoteOverhead</altitudeLayer>
		<mote>
			<solidTime>0.05</solidTime>
			<fadeOutTime>0.1</fadeOutTime>
		</mote>
		<graphicData>
			<texPath>Apple/ElectricalSparkApple</texPath>
			<shaderType>MoteGlow</shaderType>
		</graphicData>
	</ThingDef>

  <ThingDef ParentName="MoteBase">
		<defName>ACM_TestMote</defName>
		<altitudeLayer>MoteOverhead</altitudeLayer>
		<mote>
			<solidTime>0.5</solidTime>
			<fadeOutTime>0.2</fadeOutTime>
		</mote>
		<graphicData>
			<texPath>Apple/AppleFireGlow</texPath>
			<shaderType>MoteGlowPulse</shaderType>
		</graphicData>
	</ThingDef>

  <VFECore.Abilities.AbilityDef>
    <defName>ACM_Test</defName>
    <label>test (telepathy)</label>
    <description>Cast on an enemy to turn them on their allies.</description>
    <abilityClass>AssassinsRim.AppleAbility_TestAbility</abilityClass>
    <targetMode>Pawn</targetMode>
    <range>19.9</range>
    <iconPath>Apple/Power_ToxicResistance</iconPath>
    <cooldownTime>120</cooldownTime>
    <castTime>60</castTime>
    <chance>0</chance>
    <castSound>PsychicShockLanceCast</castSound>
    <drawAimPie>true</drawAimPie>
    <targetingParametersList>
      <li class="TargetingParameters">
        <canTargetAnimals>false</canTargetAnimals>
        <canTargetPawns>true</canTargetPawns>
        <canTargetMechs>false</canTargetMechs>
        <canTargetSelf>true</canTargetSelf>
        <canTargetLocations>false</canTargetLocations>
        <canTargetBuildings>false</canTargetBuildings>
        <onlyTargetColonists>false</onlyTargetColonists>
        <neverTargetIncapacitated>false</neverTargetIncapacitated>
      </li>
    </targetingParametersList>
    <castFleck>ACM_Fleck_AppleGlow</castFleck>
    <castFleckScale>1.25</castFleckScale>
    <targetFlecks>
      <li>ACM_Fleck_PsychicDistortion</li>
    </targetFlecks>
    

    <requiredHediff>
      <hediffDef>EdenAppleWielder</hediffDef>
      <minimumLevel>1</minimumLevel>
    </requiredHediff>
  </VFECore.Abilities.AbilityDef>
  
  <!-- ############################################################################### -->
  <!-- #                               BERSERK                                       # -->
  <!-- ############################################################################### -->

  <VFECore.Abilities.AbilityDef>
    <defName>Apple_Berserk</defName>
    <label>Force Berserk</label>
    <description>Use the power of the apple to break a Person's mind, flooding it with illusions and forcing them to attack their allies indiscriminately</description>
    <abilityClass>AssassinsRim.AppleAbility_Berserk</abilityClass>
    <targetMode>Humanlike</targetMode>
    <range>40.4</range>
    <iconPath>Apple/Power_ToxicResistance</iconPath>
    <cooldownTime>1800</cooldownTime> <!-- is rimworld seconds -->
    <castTime>60</castTime>
    <chance>0</chance>
    <castSound>PsychicShockLanceCast</castSound>
    <warmupMote>ACM_TestMote</warmupMote>
    <requiredHediff>
      <hediffDef>EdenAppleWielder</hediffDef>
      <minimumLevel>1</minimumLevel>
    </requiredHediff>
  </VFECore.Abilities.AbilityDef>

  <!-- ############################################################################### -->
  <!-- #                               REGENERATION                                  # -->
  <!-- ############################################################################### -->

  <VFECore.Abilities.AbilityDef>
    <defName>Apple_Regeneration</defName>
    <label>Enhanced Regeneration</label>
    <description>Use the power of the apple to enhance the target's regeneration capabilities</description>
    <abilityClass>AssassinsRim.AppleAbility_Regeneration</abilityClass>
    <targetMode>Pawn</targetMode>
    <range>12.4</range>
    <iconPath>Apple/Power_ToxicResistance</iconPath>
    <cooldownTime>900</cooldownTime> <!-- is rimworld seconds -->
    <castTime>60</castTime>
    <chance>0</chance>
    <castSound>PsychicShockLanceCast</castSound>
    <targetingParametersList>
      <li class="TargetingParameters">
        <canTargetAnimals>false</canTargetAnimals>
        <canTargetPawns>true</canTargetPawns>
        <canTargetMechs>false</canTargetMechs>
        <canTargetSelf>true</canTargetSelf>
        <canTargetLocations>false</canTargetLocations>
        <canTargetBuildings>false</canTargetBuildings>
        <onlyTargetColonists>false</onlyTargetColonists>
        <neverTargetIncapacitated>false</neverTargetIncapacitated>
      </li>
    </targetingParametersList>
    <requiredHediff>
      <hediffDef>EdenAppleWielder</hediffDef>
      <minimumLevel>1</minimumLevel>
    </requiredHediff>
  </VFECore.Abilities.AbilityDef>

  <!-- ############################################################################### -->
  <!-- #                               FORCED SUICIDE                                # -->
  <!-- ############################################################################### -->

  <VFECore.Abilities.AbilityDef>
    <defName>Apple_Suicide</defName>
    <label>Forced Suicide</label>
    <description>Use the power of the apple to force the target to commit suicide, certain types of pawns may be able to resist the apple's calls however..</description>
    <abilityClass>AssassinsRim.AppleAbility_ForceSuicide</abilityClass>
    <targetMode>Pawn</targetMode>
    <range>39.4</range>
    <iconPath>Apple/Power_ToxicResistance</iconPath>
    <cooldownTime>3600</cooldownTime> <!-- is rimworld seconds -->
    <castTime>120</castTime>
    <warmupMote>Mote_WarmupNeuroquake</warmupMote>
    <chance>0</chance>
    <castSound>PsychicShockLanceCast</castSound>
    <targetingParametersList>
      <li class="TargetingParameters">
        <canTargetAnimals>false</canTargetAnimals>
        <canTargetPawns>true</canTargetPawns>
        <canTargetMechs>false</canTargetMechs>
        <canTargetSelf>false</canTargetSelf>
        <canTargetLocations>false</canTargetLocations>
        <canTargetBuildings>false</canTargetBuildings>
        <neverTargetIncapacitated>true</neverTargetIncapacitated> <!-- can't really kill yourself if you're not physically able to -->
      </li>
    </targetingParametersList>
    <requiredHediff>
      <hediffDef>EdenAppleWielder</hediffDef>
      <minimumLevel>1</minimumLevel>
    </requiredHediff>
  </VFECore.Abilities.AbilityDef>

</Defs>